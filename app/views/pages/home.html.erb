<body>
  <%= javascript_pack_tag 'navbar' %>
  <%= javascript_pack_tag 'mapbox_description' %>
  <%= javascript_pack_tag 'backToTop' %>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light sticky" id="navbar-container">
    <div class="container-nav">
      <div class="dropdown side-element">
        <button class="btn btn-secondary font-text drop-menu text-white " type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <img src="<%= image_path 'menuBarWhite.png' %>"  id="menu-btn-white" class="menu-bar " alt="">
          <img src="<%= image_path 'menuBarGreen.png' %>"  id="menu-btn-green" class="menu-bar menu-bar-hidden" alt="">
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
          <%= link_to root_path, class: "nav-item nav-link dropdown-item" do %>
          <%= t('global.navbar.home') %>
          <% end %>
          <%= link_to tarifs_path, class: "nav-item nav-link dropdown-item" do %>
          <%= t('global.navbar.rates') %>
          <% end %>
          <%= link_to about_us_path, class: "nav-item nav-link dropdown-item" do %>
          <%= t('global.navbar.about_us') %>
          <% end %>
          <%= link_to new_booking_path, class: "nav-item nav-link dropdown-item" do %>
          <%= t('global.navbar.book') %>
          <% end %>
          <div class="dropdown-divider"></div>
          <%= link_to 'EN', root_path(locale: :en), class: "nav-item nav-link dropdown-item d-inline padding-drop"%>
          <%= link_to 'FR', root_path(locale: :fr), class: "nav-item nav-link dropdown-item d-inline padding-drop"%>
          <%= link_to 'PT', root_path(locale: :pt), class: "nav-item nav-link dropdown-item d-inline padding-drop"%>
        </div>
      </div>
        <div class="title-center">
          <%= link_to root_path, class: "navbar-brand column-center" do  %>
            <h1 class="font-text vivenda-size-big"> <%= " Vivenda " %> </h1>
            <h2 class="font-text nossa-size-big "> <%="- a Nossa Coroa -"  %> </h2>
          <% end %>
        </div>

        <div class="side-element reservez">
          <%= link_to new_booking_path, class: "nav-item reserver" do  %>
            <h2 class="font-text reservez" id="deco-none"><%= t('global.navbar.book') %></h2>
          <% end %>
        </div>
    </div>
  </nav>

  <!-- Carousel -->

  <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel" data-interval="3000">
    <ol class="carousel-indicators">
      <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
      <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner ">

      <div class="carousel-item active ">
        <%= image_tag "DSC_0151.JPG", alt:"#{t('.swimming_pool_alt')}", class: "d-block img-home img-fluid img-size", :style => "object-fit:cover; width:100%; height:100vh;" %>
      </div>

      <div class="carousel-item ">
        <%= image_tag "Praia_Fluvia.JPG", alt:"#{t('.praia_fluvial_alt')}", class: "d-block img-home img-fluid img-size", :style => "object-fit:cover; width:100%; height:100vh;" %>
      </div>

      <div class="carousel-item ">
        <%= image_tag "DSC_0036.JPG", alt: "#{t('.domain_alt')}", class: "d-block img-home img-fluid img-size", :style => "object-fit:cover; width:100%; height:100vh;" %>
      </div>

    </div>
    <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
    <a id="back2Top" title="Back to top" style="display:inline;" href="#">&#10148;</a>
  </div>


  <!-- Pictures -->
  <div class="container" style="transform: translate(0.0% , 0%);">
    <div class="my-grid-1" id="waterfall-container">
      <div class="item">
        <div class="card card-position" style="border: none;">
          <%= image_tag 'domain.JPG', class:"card-img-waterfall", alt:"#{t('.domain_alt')}"%>
        </div>
      </div>

      <div class="item">
        <div class="card card-position" style="border: none;">
          <%= image_tag 'casas.JPG', class:"card-img-waterfall", alt:"#{t('.casas_alt')}"%>
        </div>
      </div>

      <div class="item">
        <div class="card card-position" style="border: none;">
          <%= image_tag 'swimming_pool.jpg', class:"card-img-waterfall", alt:"#{t('.swimming_pool_alt')}"%>
        </div>
      </div>

      <div class="item">
        <div class="card card-position" style="border: none;">
          <%= image_tag 'flowers.JPG', class:"card-img-waterfall", alt:"#{t('.flowers_alt')}"%>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="my-5 px-4">
      <div class="domain-home">
        <h3><%= t('.domain') %></h3>
        <p><%= t('.domain_explanation_html') %></p>
      </div>
    </div>
  </div>

  <div class="container" style="transform: translate(0.0% , 0%);">
    <div class="my-grid-2" id="waterfall-container-2">
      <div class="item">
        <div class="card card-position" style="border: none;">
          <%= image_tag 'terrasse.JPG', class:"card-img-waterfall", alt:"#{t('.terrasse_alt')}"%>
        </div>
      </div>

      <div class="item">
        <div class="card card-position" style="border: none;">
          <%= image_tag 'living_room.JPG', class:"card-img-waterfall", alt:"#{t('.living_room_alt')}"%>
        </div>
      </div>

      <div class="item">
        <div class="card card-position" style="border: none;">
          <%= image_tag 'terrasse_2.JPG', class:"card-img-waterfall", alt:"#{t('.terrasse_alt')}"%>
        </div>
      </div>

      <div class="item">
        <div class="card card-position" style="border: none;">
          <%= image_tag 'main_bedroom.JPG', class:"card-img-waterfall", alt:"#{t('.main_bedroom_alt')}"%>
        </div>
      </div>


      <div class="item">
        <div class="card card-position" style="border: none;">
          <%= image_tag 'new_photo.JPG', class:"card-img-waterfall", alt:"#{t('.general_alt')}"%>
        </div>
      </div>


      <div class="item">
        <div class="card card-position" style="border: none;">
          <%= image_tag 'kitchen.JPG', class:"card-img-waterfall", alt:"#{t('.kitchen_alt')}"%>
        </div>
      </div>
    </div>
  </div>

  <!-- Map of activities -->


  <div class="activities-map container-activite">
    <div class='sidebar pad2'>
      <div class="li-item" id="acti-description">
        <div class="">
          <div class="card card-position card-map" >
            <%= image_tag "DSC_0036.JPG", class: "card-img-top card-img-mapbox" , alt:"#{t('.vivenda_alt')}"%>
            <div class="card-body">
              <h5 class="card-title"><%= t('.vivenda_title') %></h5>
              <p class="card-text"><%= t('.vivenda_explanation_html') %></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id='map' class='map pad2' style="">Map</div>
  </div>

  <!-- Footer -->
  <%= render 'footer' %>


  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoibmlrbzExMDAiLCJhIjoiY2tkYTVkcXd2MTZ1MjJxdGd3cWYyaWtqZCJ9.-E_TJRjcNNxpIW-l7LOHIw';

    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/streets-v11',
      center: [-8.008407, 40.3844089],
      zoom: 9,
      maxZoom: 11,
      minZoom: 8
    });

    var cojaIcon = document.createElement('div');
    cojaIcon.classList.add('coja-icon');
    var CojaCenter = new mapboxgl.Marker(cojaIcon)
    .setLngLat([-7.98861, 40.269045])
    .addTo(map);

    var santaCombaPopup = new mapboxgl.Popup({
      anchor:'bottom',
      offset: [0, -64]
    })

    .setHTML(`<div id="praia-popup">
          <img src="santaComba.jpg" alt="" class="card-img-top card-img-mapbox">
          <div class="card-body">
            <h5 class="card-title">Santa Comba Dão</h5>
        </div>
      </div>`);

    var santaComba = document.createElement('img');
    santaComba.src = `<%= image_path 'bike_icon.png' %>`
    santaComba.classList.add('map-icon');
    santaComba.classList.add('santa-comba-card');

    var santaCombaLocation = new mapboxgl.Marker(santaComba)
    .setLngLat([-8.1597634,40.3924813])
    .setPopup(santaCombaPopup)
    .addTo(map);

    var kayakPopup = new mapboxgl.Popup({
      anchor:'bottom',
      offset: [0, -64]
    })

    .setHTML(`<div id="praia-popup">
            <img src="kayak.jpg" alt="" class="card-img-top card-img-mapbox">
          <div class="card-body">
            <h5 class="card-title">Kayak tour O Pioneiro Do Mondego</h5>
        </div>
      </div>`);

    var kayak = document.createElement('img');
    kayak.src = `<%= image_path 'kayak_icon.png' %>`
    kayak.classList.add('map-icon');
    kayak.classList.add('kayak-card');

    var kayakLocation = new mapboxgl.Marker(kayak)
    .setLngLat([-8.2933872,40.2881311])
    .setPopup(kayakPopup)
    .addTo(map);

    var rioAlvaPopup = new mapboxgl.Popup({
      anchor:'bottom',
      offset: [0, -64]
    })

    .setHTML(`<div id="praia-popup">
          <img src="rioSalva.jpg" alt="" class="card-img-top card-img-mapbox">
          <div class="card-body">
            <h5 class="card-title">Praya Fluvial Coja</h5>
        </div>
      </div>`);

    var rioAlva = document.createElement('img');
    rioAlva.src = `<%= image_path 'beach_icon.png' %>`
    rioAlva.classList.add('map-icon');
    rioAlva.classList.add('rio-card');
    var rioAlvaLocation = new mapboxgl.Marker(rioAlva)
    .setLngLat([-7.9972999,40.267763])
    .setPopup(rioAlvaPopup)
    .addTo(map);

    var cascaPopup = new mapboxgl.Popup({
      anchor:'bottom',
      offset: [0, -64]
    })

    .setHTML(`<div id="praia-popup">
          <img src="casca.jpg" alt="" class="card-img-top card-img-mapbox">
          <div class="card-body">
            <h5 class="card-title">Praya fluvial Cascalheira</h5>
        </div>
      </div>`);

    var casca = document.createElement('img');
    casca.src = `<%= image_path 'beach_icon.png' %>`
    casca.classList.add('map-icon');
    casca.classList.add('casca-card');

    var cascaLocation = new mapboxgl.Marker(casca)
    .setLngLat([-8.0379081,40.2502341])
    .setPopup(cascaPopup)
    .addTo(map);

    var seraEstrelaPopup = new mapboxgl.Popup({
      anchor:'bottom',
      offset: [0, -64]
    })

    .setHTML(`<div id="praia-popup">
          <img src="estrella.jpg" alt="" class="card-img-top card-img-mapbox">
          <div class="card-body">
            <h5 class="card-title">Serra da Estrela</h5>
        </div>
      </div>`);

    var seraEstrela = document.createElement('img');
    seraEstrela.src = `<%= image_path 'hike_icon.png' %>`
    seraEstrela.classList.add('map-icon');
    seraEstrela.classList.add('sera-card');
    var seraEstrelaLocation = new mapboxgl.Marker(seraEstrela)
    .setLngLat([-7.6355217,40.333333])
    .setPopup(seraEstrelaPopup)
    .addTo(map);

    var avoPopup = new mapboxgl.Popup({
      anchor:'bottom',
      offset: [0, -64]
    })

    .setHTML(`<div id="praia-popup">
          <img src="estrella.jpg" alt="" class="card-img-top card-img-mapbox">
          <div class="card-body">
            <h5 class="card-title">Praia Fluvial de Avô</h5>
        </div>
      </div>`);

    var avo = document.createElement('img');
    avo.src = `<%= image_path 'beach_icon.png' %>`
    avo.classList.add('map-icon');
    avo.classList.add('avo-card');

    var avoLocation = new mapboxgl.Marker(avo)
    .setLngLat([-7.9080021,40.2941203])
    .setPopup(avoPopup)
    .addTo(map);

    var carvahalPopup = new mapboxgl.Popup({
      anchor:'bottom',
      offset: [0, -64]
    })

    .setHTML(`<div id="praia-popup">
          <img src="caminhos.jpg" alt="" class="card-img-top card-img-mapbox">
          <div class="card-body">
            <h5 class="card-title">Caminhos Cruzados</h5>
        </div>
      </div>`);

    var carvahal = document.createElement('img');
    carvahal.src = `<%= image_path 'winery_icon.png' %>`
    carvahal.classList.add('map-icon');
    carvahal.classList.add('carvahal-card');
    var carvahalLocation = new mapboxgl.Marker(carvahal)
    .setLngLat([-7.8771582,40.5432448])
    .setPopup(carvahalPopup)
    .addTo(map);
    var quintaLemosPopup = new mapboxgl.Popup({
      anchor:'bottom',
      offset: [0, -64]
    })

    .setHTML(`<div id="praia-popup">
          <img src="lemos.jpg" alt="" class="card-img-top card-img-mapbox">
          <div class="card-body">
            <h5 class="card-title">Quinta de Lemos</h5>
        </div>
      </div>`);
    var quintaLemos = document.createElement('img');
    quintaLemos.src = `<%= image_path 'winery_icon.png' %>`
    quintaLemos.classList.add('map-icon');
    quintaLemos.classList.add('quinta-card');
    var quintaLemosLocation = new mapboxgl.Marker(quintaLemos)
    .setLngLat([-7.9845738,40.5748316])
    .setPopup(quintaLemosPopup)
    .addTo(map);
    var fragaPopup = new mapboxgl.Popup({
      anchor:'bottom',
      offset: [0, -64]
    })

    .setHTML(`<div id="praia-popup">
          <img src="fraga.jpg" alt="" class="card-img-top card-img-mapbox">
          <div class="card-body">
            <h5 class="card-title">Fraga da Pena</h5>
        </div>
      </div>`);
    var fraga = document.createElement('img');
    fraga.src = `<%= image_path 'binoculars_icon.png' %>`
    fraga.classList.add('map-icon');
    fraga.classList.add('fraga-card');
    var fragaLocation = new mapboxgl.Marker(fraga)
    .setLngLat([-8.0246446,40.1876857])
    .setPopup(fragaPopup)
    .addTo(map);

    var cabrizPopup = new mapboxgl.Popup({
      anchor:'bottom',
      offset: [0, -64]
    })
    .setHTML(`<div id="praia-popup">
          <img src="cabriz.jpg" alt="" class="card-img-top card-img-mapbox">
          <div class="card-body">
            <h5 class="card-title">Quinta de Cabriz</h5>
        </div>
      </div>`);

    var cabriz = document.createElement('img');
    cabriz.src = `<%= image_path 'winery_icon.png' %>`
    cabriz.classList.add('map-icon');
    cabriz.classList.add('cabriz-card');
    var cabrizLocation = new mapboxgl.Marker(cabriz)
    .setLngLat([-8.0207627,40.4247854])
    .setPopup(cabrizPopup)
    .addTo(map);

    var vivendaIcon = document.createElement('img');
    vivendaIcon.src = `<%= image_path 'vivenda_icon.png' %>`
    vivendaIcon.classList.add('map-icon');
    vivendaIcon.classList.add('vivenda-card');
    var vivendaLocation = new mapboxgl.Marker(vivendaIcon)
    .setLngLat([-8.013077, 40.2560003])
    .addTo(map);
    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/waterfall.js/1.0.2/waterfall.min.js"></script>
    <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>

    <script>
    imagesLoaded( document.querySelector('.container'), () => {
      waterfall('.my-grid-1');
      waterfall('.my-grid-2');
    });
      window.addEventListener('resize', () => {
          waterfall('.my-grid');
      });
  </script>

  <%= javascript_pack_tag 'mapbox_fly' %>
  <%= javascript_pack_tag 'waterfall_img_center' %>
</body>






